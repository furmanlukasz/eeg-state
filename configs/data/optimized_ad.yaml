# Optimized data configuration for AD vs HC training
# Same as optimized.yaml but for Alzheimer's Disease group
#
# Use with: python -m eeg_biomarkers.training.train data=optimized_ad model=transformer_v2 training=optimized

# Dataset type
dataset: "greek_resting"

# Data paths (relative to paths.data_dir)
# AD folder contains Alzheimer's Disease subjects
groups:
  - name: "AD"
    path: "AD"
  - name: "HC"
    path: "HID"

# =============================================================================
# PREPROCESSING
# =============================================================================
preprocessing:
  # Filtering - keep 3-48 Hz for neural oscillations
  filter_low: 3.0   # Hz (excludes slow drift)
  filter_high: 48.0  # Hz (below line noise, includes gamma)
  notch_freq: 50  # Line noise removal (50 Hz for Europe)

  # Referencing - CSD reduces volume conduction
  reference: "csd"

  # =============================================================================
  # CHUNKING - 10s windows with 50% overlap
  # =============================================================================
  chunk_duration: 10.0  # seconds
  chunk_overlap: 5.0    # seconds (50% overlap)

  # Phase extraction
  phase_method: "hilbert"

# =============================================================================
# SAMPLING - SUBJECT BALANCED
# =============================================================================
sampling:
  n_subjects_per_group: null  # Use all subjects
  random_seed: 42

  # Subject-balanced sampling: equal windows per subject per epoch
  subject_balanced: true

  # Robust normalization per recording
  normalize_per_recording: true

# =============================================================================
# SPLITTING
# =============================================================================
splitting:
  method: "group_kfold"  # Prevents segment-level leakage
  n_splits: 5
  test_size: 0.2
  group_by: "subject"

# =============================================================================
# CACHING
# =============================================================================
caching:
  enabled: true
  cache_dir: "preprocessed_data_10s_ad"  # Separate cache for AD dataset
